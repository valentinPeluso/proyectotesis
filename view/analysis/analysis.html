<link rel="stylesheet" href="/view/analysis/analysis.css" />
<div class="row">
    <div class="col-lg-12" cg-busy="vm.promiseLists">
        <uib-accordion close-others="true">
            <div uib-accordion-group
                class="panel-default"
                heading="Attachments">
                <div class="row">
                    <div class="col-lg-12">
                        <tg-list-attachments id-attachment-list="vm.attachmentsList.id">
                        </tg-list-attachments>
                    </div>
                </div>
            </div>
            <div uib-accordion-group
                class="panel-default"
                heading="Requeriments">
                <div class="row">
                    <div class="col-lg-12">
                        <table class="table table-bordered table-hover table-condensed">
                            <thead>
                                <tr>
                                    <th>Title</th>
                                    <th>Rason</th>
                                    <th>Origin</th>
                                    <th>Priority</th>
                                    <th>
                                        Requeriment links
                                        <i class="fa fa-info-circle" 
                                            aria-hidden="true" 
                                            tooltip-placement="top" 
                                            uib-tooltip="Dependence with others requeriments"></i>
                                    </th>
                                    <th>Use case</th>
                                    <th>
                                        Cards 
                                        <i class="fa fa-info-circle" 
                                            aria-hidden="true" 
                                            tooltip-placement="top" 
                                            uib-tooltip="Cards created from the requeriment"></i>
                                    </th>
                                </tr>
                            </thead>
                            <tbody cg-busy="vm.promiseLists">
                                <tr ng-repeat="req in vm.requerimentList.cards track by $index" style="cursor: pointer;" ng-click="vm.openRequeriment(req)">
                                    <td>{{ req.name }}</td>
                                    <td>{{ req.rason }}</td>
                                    <td>{{ req.origin }}</td>
                                    <td>{{ req.priority }}</td>
                                    <td>
                                        <ul style="padding-left: 0; list-style-type: none;">
                                            <li ng-repeat="dep in req.dependencies track by $index">
                                                {{ dep.name }}
                                            </li>
                                        </ul>
                                    </td>
                                    <td>{{ req.use_case }}</td>
                                    <td>
                                        <ul style="padding-left: 0; list-style-type: none;">
                                            <li ng-repeat="card in req.cardsCreatedFromRequeriment track by $index">
                                                {{ card.name }}
                                            </li>
                                        </ul>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div uib-accordion-group
                class="panel-default"
                heading="Sprints"
                is-open="true">
                <div class="row">
                    <div class="col-lg-12">
                        <tg-sprints allow-move-card="true"></tg-sprints>
                    </div>
                </div>
            </div>
        </uib-accordion>
    </div>
</div>
