<div class="row">
    <div class="col-lg-12">
        <table class="table table-striped"
            style="margin-bottom: 0;"
            dnd-list="$ctrl.cards">
            </thead>
            <tbody 
                ng-class="{'tg-list-group-item-draggable' : $ctrl.allowMoveCard}"
                ng-repeat="card in $ctrl.cards track by $index" 
                ng-click="$ctrl.openCard(card)"
                dnd-moved="$ctrl.removeCard($ctrl.cards, $index, card)"
                dnd-effect-allowed="move"
                dnd-draggable="card"
                dnd-disable-if="!$ctrl.allowMoveCard"
                style="border: 2px solid #ddd;">
                <tr>
                    <td colspan="4" class="tg-text-left">
                        <a href="" >{{ card.name }}</a>
                    </td>
                    <td class="tg-font-13 tg-text-right">
                        <a  ng-show="card.pullRequestNumber"
                            ng-href="{{card.pullRequest.html_url}}"
                            ng-click="$event.stopPropagation()"
                            target="_blank">
                            <span class="label label-primary">
                                <i class="fa fa-code-fork" aria-hidden="true"></i> Pull request
                            </span>
                        </a>
                    </td>
                    <td class="tg-font-13 tg-text-right">
                        <span ng-show="card.points" ng-repeat="state in card.states track by $index">
                            <span class="label label-{{state.color}}">
                                {{state.name}}
                            </span>
                            <span ng-if="!$last">&nbsp;</span>
                        </span>
                    </td>
                    <td class="tg-font-13 tg-text-right">
                        <span class="label label-info" ng-show="card.points">
                            {{ card.points }} points
                        </span>
                    </td>
                    <td class="tg-font-13 tg-text-right">
                        <span class="label priority-{{card.priority}}">
                            Priority {{card.priority}}
                        </span>
                    </td>
                </tr>
                <tr>
                    <td colspan="2" class="tg-text-left">
                        <span ng-repeat="member in card.assignee track by $index">
                            {{ member.fullName }} 
                        </span>
                        &nbsp;
                        <i class="fa fa-user" aria-hidden="true"></i>
                    </td>
                    <td colspan="6" class="tg-text-right">
                         <span>
                            <span>{{ card.description }} <i class="fa fa-comment" aria-hidden="true"></i></span>
                        </span>  
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
